# 机场航图管理系统 - README.md

## 项目概述
**机场航图管理系统** 是一款纯前端单页应用（SPA），专注于全球核心机场航图资源的查询、预览与下载。系统整合了多国家/地区的机场数据与标准化航图文件，提供直观的交互体验与响应式布局，适用于航空从业者、航空爱好者等用户快速获取进近程序图、机场平面图等关键航图资源。


## 项目结构
```
airport-chart-system/
├── index.html          # 页面入口文件（HTML结构与组件挂载）
├── css/
│   └── style.css       # 全局样式文件（含响应式布局、组件样式、动画效果）
├── js/
│   └── script.js       # 核心逻辑文件（数据管理、DOM交互、PDF处理）
├── assets/             # 航图资源目录（按机场ICAO代码分类存储PDF）
│   ├── KLAX/           # 洛杉矶国际机场（KLAX）航图文件
│   ├── ZSPD/           # 上海浦东国际机场（ZSPD）航图文件
│   ├── RJAA/           # 东京成田国际机场（RJAA）航图文件
│   └── ...（其他机场ICAO代码子目录）
└── README.md           # 项目说明文档（功能、部署、使用指南）
```


## 核心功能
### 1. 机场数据管理
- **全球覆盖**：包含 A-Z 26个字母分组，覆盖美国、中国、日本、英国、新加坡等20+国家/地区的核心机场
- **结构化信息**：每个机场条目包含 `ICAO代码`（如 ZBAA）、`机场名称`（如北京首都国际机场）、`所属国家/地区`，数据规范统一
- **字母导航**：左侧侧边栏按字母排序分组，支持快速定位目标区域机场（如点击「F」查看中国、法国等「F」开头分组的机场）

### 2. 高效搜索筛选
- **多维度检索**：支持通过「机场代码」「机场名称」「国家/地区」关键词搜索（如输入「上海」「KLAX」「日本」均能匹配结果）
- **实时过滤**：输入过程中实时筛选机场列表，自动隐藏不匹配的分组与条目，无延迟反馈
- **空状态提示**：无匹配结果时显示「暂无匹配机场，请调整搜索关键词」，引导用户操作

### 3. 航图预览与下载
- **完整航图类型**：每个机场默认提供5类核心航图：
  - 进近程序图（approach.pdf）
  - 离场程序图（departure.pdf）
  - 机场平面图（airport.pdf）
  - 标准仪表进场图（arrival.pdf）
  - 滑行道指示图（taxiway.pdf）
- **模态框预览**：点击航图卡片弹出预览窗口，内置PDF Viewer支持在线查看，无需跳转第三方工具
- **自定义下载**：预览窗口提供下载按钮，文件自动命名为「机场代码_航图类型.pdf」（如 ZSPD_approach.pdf），便于分类归档

### 4. 响应式与交互优化
- **PC端体验**：支持侧边栏折叠/展开（节省页面空间）、航图视图切换（卡片/列表模式）
- **移动端适配**：屏幕宽度≤768px时自动切换布局，侧边栏支持滑入/滑出，按钮尺寸与间距适配触摸操作
- **状态反馈**：加载航图时显示旋转动画、无航图时显示空状态图标，提升用户感知


## 环境要求
- **浏览器支持**：Chrome 90+、Firefox 88+、Safari 14+、Edge 90+（需支持 ES6+ 语法与 PDF 预览 API）
- **无需后端依赖**：纯前端静态项目，无需部署服务器，本地打开即可运行
- **资源要求**：`assets/` 目录需按规范存放对应机场的 PDF 航图文件（文件名需与 `script.js` 中定义一致）


## 快速部署
1. **获取项目文件**：将 `index.html`、`css/`、`js/`、`assets/` 完整复制到本地目录（如 `D:/airport-chart-system/`）
2. **配置航图资源**：
   - 在 `assets/` 下新建以「机场ICAO代码」命名的子目录（如 `ZBAA/` 对应北京首都国际机场）
   - 将该机场的5类航图PDF文件放入子目录，确保文件名与 `script.js` 中 `chartFiles` 定义的 `filename` 一致（如 `approach.pdf`）
3. **启动应用**：双击 `index.html` 文件，在支持的浏览器中打开即可使用


## 使用指南
### 1. 查找机场
#### 方式1：字母分组导航
- 左侧侧边栏点击字母分组标题（如「Z」），展开该分组下的所有机场
- 点击目标机场条目（如「ZSPD 上海浦东国际机场 中国」），右侧自动加载该机场的航图列表

#### 方式2：关键词搜索
- 在侧边栏顶部搜索框输入关键词（如「浦东」「RJAA」「韩国」）
- 列表实时过滤，仅显示匹配结果，点击机场条目即可查看航图

### 2. 操作航图
#### 预览航图
1. 右侧航图区域展示当前选中机场的航图卡片（默认卡片视图）
2. 点击任意航图卡片（如「进近程序图 2.5MB」），弹出预览模态框
3. 等待PDF加载完成后，即可在线查看航图内容

#### 下载航图
1. 在航图预览模态框中，点击右上角「下载」按钮（图标：↓）
2. 浏览器自动触发下载，文件保存到本地默认下载目录

#### 切换视图
- 点击航图区域顶部「卡片视图」/「列表视图」按钮，可切换航图展示样式
- 切换后保持当前选中机场的航图数据，无需重新加载

### 3. 界面调整（PC端）
- **折叠侧边栏**：点击侧边栏顶部「←」按钮，侧边栏收缩为仅显示字母图标，节省页面空间
- **展开侧边栏**：点击收缩后的侧边栏字母图标区域，或点击「→」按钮，恢复完整侧边栏（显示机场代码、名称、国家）

### 4. 移动端操作
- **打开侧边栏**：点击页面顶部左侧「☰」按钮，侧边栏从左侧滑入
- **关闭侧边栏**：点击侧边栏外部区域、顶部「×」按钮，或按手机返回键，侧边栏滑出隐藏


## 数据配置（自定义扩展）
若需新增/修改机场或航图数据，可编辑 `js/script.js` 中的以下核心对象：

### 1. 新增机场
在 `airports` 对象中添加对应字母分组的机场数据：
```javascript
const airports = {
    // ... 其他分组
    'Z': [
        // 新增示例：广州白云国际机场
        { code: "ZGGG", name: "广州白云国际机场", country: "中国" },
        // ... 已有机场
    ]
};
```

### 2. 配置航图数据
在 `chartFiles` 对象中添加对应机场的航图信息：
```javascript
const chartFiles = {
    // ... 其他机场
    "ZGGG": [ // 与 airports 中定义的 code 一致
        { name: "进近程序图", size: "2.5MB", filename: "approach.pdf" },
        { name: "离场程序图", size: "1.9MB", filename: "departure.pdf" },
        { name: "机场平面图", size: "3.2MB", filename: "airport.pdf" },
        { name: "标准仪表进场", size: "2.2MB", filename: "arrival.pdf" },
        { name: "滑行道指示图", size: "1.6MB", filename: "taxiway.pdf" }
    ]
};
```

### 3. 注意事项
- 新增机场的 `code` 需与 `assets/` 下的子目录名称完全一致（区分大小写）
- 航图 `filename` 需与 `assets/机场code/` 下的PDF文件名完全一致，否则无法加载预览/下载


## 常见问题（FAQ）
1. **Q：航图预览显示空白怎么办？**  
   A：检查 `assets/机场code/` 目录是否存在对应 PDF 文件，且文件名与 `script.js` 中 `filename` 一致；若文件存在，尝试刷新页面或更换浏览器（推荐 Chrome）。

2. **Q：移动端侧边栏无法关闭？**  
   A：确保点击的是侧边栏外部区域或顶部「×」按钮；若仍有问题，可按手机「返回键」或刷新页面。

3. **Q：如何批量添加机场数据？**  
   A：可将机场数据整理为 JSON 格式，通过 `Object.assign()` 或循环遍历的方式批量导入 `airports` 对象，避免手动逐条添加。


## 版本说明
| 版本 | 更新时间       | 主要变更                     |
|------|----------------|------------------------------|
| v1.0 | 2025-08-25     | 初始版本：支持基础查询、预览、下载功能 |
| v1.1 | 2025-08-25     | 新增视图切换、移动端侧边栏滑入效果   |
| v1.2 | 2025-08-27     | 优化搜索性能、增加空状态提示         |


## 联系方式
若有功能建议或问题反馈，可通过以下方式联系：  
- 邮箱：support@skychartpro.top
